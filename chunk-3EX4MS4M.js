import{a as F,c as L,d as M,e as N,f as _,g as k,h as D,i as I,j as P}from"./chunk-35WKNL65.js";import{A as c,C as p,F as m,J as b,M as v,O as S,P as E,S as t,T as n,U as s,W as w,_ as r,pa as x,q as l,qa as y,ta as C,u as f,v as g,y as h}from"./chunk-ZTPSYPTV.js";function G(i,a){i&1&&(t(0,"div",10),f(),t(1,"svg",12),s(2,"path",13),n(),g(),t(3,"span"),r(4,"Credenciales incorrectas."),n()())}var u=class i{fb=l(I);hasError=c(!1);isPosting=c(!1);loginForm=this.fb.group({username:[""],password:[""]});animation=h("animate__animated animate__backInUp");authService=l(C);router=l(x);onSubmit(){if(this.loginForm.invalid){this.activateError();return}let{username:a="",password:e=""}=this.loginForm.value;this.authService.login(a,e).subscribe(o=>{o?(console.log("Login exitoso!"),this.isPosting.set(!1),this.hasError.set(!1),this.router.navigate(["/home"])):(console.log("Login fallido!"),this.activateError())})}activateError(){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["login-menu"]],inputs:{animation:[1,"animation"]},decls:21,vars:5,consts:[[1,"min-h-screen","bg-base-200","flex","items-center","justify-center",3,"ngSubmit","formGroup"],[1,"card-body"],[1,"card-title","justify-center"],[1,"form-control"],[1,"label"],[1,"label-text"],["type","text","placeholder","Nombre de usuario","name","username","required","","formControlName","username",1,"input","input-bordered"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password","required","","formControlName","password",1,"input","input-bordered"],[1,"form-control","mt-6"],[1,"btn","btn-primary","w-full"],["role","alert",1,"alert","alert-error"],["routerLink","/register",1,"flex","items-center","justify-center","hover:text-accent","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(e,o){e&1&&(t(0,"form",0),w("ngSubmit",function(){return o.onSubmit()}),t(1,"div")(2,"div",1)(3,"h2",2),r(4,"Iniciar sesi\xF3n"),n(),t(5,"div",3)(6,"label",4)(7,"span",5),r(8,"Nombre de usuario"),n()(),s(9,"input",6),n(),t(10,"div",3)(11,"label",4)(12,"span",5),r(13,"Contrase\xF1a"),n()(),s(14,"input",7),n(),t(15,"div",8)(16,"button",9),r(17,"Entrar"),n()(),b(18,G,5,0,"div",10),t(19,"h3",11),r(20," \xBFA\xFAn no tienes cuenta? "),n()()()()),e&2&&(v("formGroup",o.loginForm),p(),S("card w-96 bg-base-100 shadow-xl ",o.animation(),""),p(17),E(o.hasError()?18:-1))},dependencies:[P,N,F,L,M,D,_,k,y],encapsulation:2})};var d=class i{constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["login-page"]],decls:1,vars:0,template:function(e,o){e&1&&s(0,"login-menu")},dependencies:[u],encapsulation:2})};export{d as default};
